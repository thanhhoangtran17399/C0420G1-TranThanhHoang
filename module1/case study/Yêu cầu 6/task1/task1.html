<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="task1.js"></script>
</head>
<body>
    <script>
        let regexEmail = /\S+@\S+\.\S+/;
        let regexBirthday = /^\d{2}[./-]\d{2}[./-]\d{4}$/;
        let regexCmnd = /^[\d]{8,8}$/;
        let listCustomer = [];
        function displayMainMenu() {
            let choose = parseInt(prompt("1.Thêm khách hàng"+"\n2.Hiển thị thông tin khách hàng"
                +"\n3.Hiển thị tổng tiền phải trả của khách hàng"+"\n4.Chỉnh sửa thông tin khách hàng"+"\n5.Xoá khách hàng"+"\n6.Thoát"));
            switch (choose) {
                case 1:{
                    addNewCustomer();
                    break;
                }
                case 3:{
                    displayTotalPay();
                    break;
                }
                default:{
                    alert("Failed");
                }
            }
        }
        function displayTotalPay() {
            let temp = "";
            for(let i = 0; i <listCustomer.length; i++){
                temp += i +". Name: " + listCustomer[i].getName() + "\n";
            }
            let chooseDisplay = parseInt(prompt(temp));
            alert("Total Pay của bạn là: "+listCustomer[chooseDisplay].totalPay())
        }
        function addNewCustomer() {
            let checkValid = false;
            let cus = new Customer();
            let name = prompt("Nhập tên: ");
            let cmnd;
            let birthday;
            let email;
            do {
                cmnd = prompt("Nhập cmnd ");
                if (regexCmnd.test(cmnd)){
                    checkValid = true;
                }else {
                    alert("Không hợp lệ. Vui lòng nhập lại");
                }
            }while (!checkValid)
            checkValid = false;
            do {
                birthday = prompt("Nhập ngày sinh: ");
                if (regexBirthday.test(birthday)){
                    checkValid = true;
                }else {
                    alert("Không hợp lệ. Vui lòng nhập lại");
                }
            }while (!checkValid)
            checkValid = false;
            do{
                email = prompt("Nhập email: ");
                if(regexEmail.test(email)){
                    checkValid = true;
            }else {
                    alert("Không hợp lệ. Vui lòng nhập lại");
            }
            }while (!checkValid)
            checkValid = false;
            let address = prompt("Nhập địa chỉ: ");
            let typeService = prompt("Nhập loại dịch vụ: ");
            let typeRoom = prompt("Nhập loại phòng ");
            let typeCustomer = prompt("Nhập loại khách hàng ");
            let discount = prompt("Nhập mã giảm giá: ");
            let quantityIncluded = prompt("Nhập quantityIncluded: ");
            let renDays = prompt("Nhập rendays: ");
            cus.setName(name);
            cus.setCMND(cmnd);
            cus.setBirthday(birthday);
            cus.setEmail(email);
            cus.Address(address);
            cus.setTypeService(typeService);
            cus.setTypeRoom(typeRoom);
            cus.setTypeCustomer(typeCustomer);
            cus.setDiscount(discount);
            cus.setQuantityIncluded(quantityIncluded);
            cus.setRenDays(renDays);
        }
        displayMainMenu();
    </script>
</body>
</html>